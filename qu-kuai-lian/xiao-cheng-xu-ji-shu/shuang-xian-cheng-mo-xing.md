---
description: 双线程可能是和传统 web 页面最大的不同点之一了，但是呢，两种模型各有利弊，并没有好坏之分，只是在特定的场景某一种进程模型可能会比较有优势
---

# 双线程模型

![](../../.gitbook/assets/image%20%28107%29.png)

## 什么是双线程模型

小程序不同于传统的wen页面，而采用的是双线程模型，简单来说就是分为渲染层和逻辑层，渲染层通过webview进行渲染，而逻辑层则运行在一个 js 线程中，两者之间通过native层进行通讯

![](../../.gitbook/assets/image%20%28112%29.png)

## 为什么要是双线程

### 为了安全和管控

在普通的web页面开发中，开发者可以轻易的操作dom，这使得平台的管控变成难上加难，使用双线程，将视图和逻辑层完全的分割开来，视图层的无法轻易的被改变，开发者只能编写「模板」一样的样式代码，这使得管控变得容易的多

![&#x64CD;&#x4F5C;dom&#x4F7F;&#x5F97;&#x9875;&#x9762;&#x80FD;&#x8F7B;&#x6613;&#x88AB;&#x6539;&#x53D8;](../../.gitbook/assets/image%20%28108%29.png)

### 为了高效率

web开发中，渲染和脚本是执行是在同一线程中，这使得一旦有长时间的脚本运行可能会导致页面失去响应，而小程序中则是分开来的，两者之间互不干扰

## 小结

小程序采用双线程的这种模式，只能说是有舍也有得，不过确实为上上策，一方面隔离了视图和逻辑使得监管变得容易以及不容易出现阻塞等情况，另一方面，也正是因为隔离了，使得无法操作don，小程序失去 了前端耕耘了好多年的生态，还有一个问题就是线程间通讯的问题（下文介绍），不过事实证明，小程序无疑是成功的！

## 参考

* \*\*\*\*[**小程序架构设计\(一\)**](https://developers.weixin.qq.com/community/develop/article/doc/000a4c1620c188f3adf7db9ab5b413)\*\*\*\*
* \*\*\*\*[**小程序架构设计\(二\)**](https://developers.weixin.qq.com/community/develop/article/doc/000c8eba1ec3b8c7ce287954c53c13)\*\*\*\*



